<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Homework Organizer</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        /* Basic CSS styles */
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            position: relative;
        }
        #homework-list {
            list-style: none;
            padding: 0;
        }
        .homework-item {
            margin-bottom: 10px;
        }
        /* Positioning the GIF */
        #gif-corner {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 100px; /* Adjust the size if needed */
            height: auto;
            z-index: 1000; /* Ensure it's above other elements */
        }
        /* Media query for mobile responsiveness */
        @media screen and (max-width: 600px) {
            body {
                margin: 10px;
            }
            #gif-corner {
                width: 80px;
            }
        }
    </style>
</head>
<body>
    <h1>Homework Organizer</h1>
    <input type="text" id="homeworkInput" placeholder="Enter homework...">
    <input type="date" id="dueDateInput">
    <input type="number" id="estimatedTimeInput" placeholder="Est. time (min)">
    <button onclick="addHomework()">Add</button>
    <button onclick="sortHomework()">Sort by Due Date</button>
    <ul id="homework-list"></ul>
    <!-- Inserting the GIF -->
    <img id="gif-corner" src="doge2.gif" alt="Corner GIF">
    <script>
        var homeworkList = [];

        window.onload = function() {
            var storedHomework = localStorage.getItem('homeworkList');
            if (storedHomework) {
                homeworkList = JSON.parse(storedHomework);
                renderHomeworkList();
            }
            setReminders();
        }

        function addHomework() {
            var input = document.getElementById("homeworkInput");
            var homework = input.value.trim();
            var dueDate = document.getElementById("dueDateInput").value;
            var estimatedTime = parseInt(document.getElementById("estimatedTimeInput").value);

            if (homework !== "" && dueDate !== "" && estimatedTime > 0) {
                var homeworkItem = {
                    homework: homework,
                    dueDate: dueDate,
                    estimatedTime: estimatedTime
                };
                homeworkList.push(homeworkItem);
                saveToLocalStorage();
                renderHomeworkList();
                input.value = "";
                document.getElementById("dueDateInput").value = "";
                document.getElementById("estimatedTimeInput").value = "";
            } else {
                alert("Please enter valid homework, due date, and estimated time (in minutes)!");
            }
        }

        function renderHomeworkList() {
            var list = document.getElementById("homework-list");
            list.innerHTML = '';

            homeworkList.forEach(function(item) {
                var listItem = document.createElement("li");
                listItem.className = "homework-item";
                listItem.appendChild(document.createTextNode(item.homework + " - Due Date: " + item.dueDate + " - Estimated Time: " + item.estimatedTime + " min"));

                var deleteButton = document.createElement("button");
                deleteButton.appendChild(document.createTextNode("Delete"));
                deleteButton.onclick = function() {
                    removeHomework(item);
                };
                listItem.appendChild(deleteButton);

                var setReminderButton = document.createElement("button");
                setReminderButton.appendChild(document.createTextNode("Set Reminder"));
                setReminderButton.onclick = function() {
                    setReminder(item);
                };
                listItem.appendChild(setReminderButton);

                list.appendChild(listItem);
            });
        }

        function removeHomework(item) {
            var index = homeworkList.indexOf(item);
            if (index !== -1) {
                homeworkList.splice(index, 1);
                saveToLocalStorage();
                renderHomeworkList();
            }
        }

        function sortHomework() {
            homeworkList.sort((a, b) => new Date(a.dueDate) - new Date(b.dueDate));
            saveToLocalStorage();
            renderHomeworkList();
        }

        function setReminder(homeworkItem) {
            var reminderTime = prompt("Enter reminder time for " + homeworkItem.homework + " (in seconds):");
            if (reminderTime) {
                homeworkItem.reminder = reminderTime;
                saveToLocalStorage();
                setReminders();
            }
        }

        function setReminders() {
            homeworkList.forEach(function(item) {
                if (item.reminder && !item.reminderSet) {
                    setTimeout(function() {
                        alert("Reminder: " + item.homework);
                        item.reminderSet = true;
                        saveToLocalStorage();
                    }, item.reminder * 1000);
                }
            });
        }

        function saveToLocalStorage() {
            localStorage.setItem('homeworkList', JSON.stringify(homeworkList));
        }
    </script>
</body>
</html>
